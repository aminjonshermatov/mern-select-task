(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{55:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(29),s=n.n(i),o=n(15),r=n(2),l=n(19),u=n(8),d=n(16),j=n.n(d),b=n(30),h=function(e){var t=Object(c.useState)(e),n=Object(u.a)(t,2),a=n[0],i=n[1],s=Object(c.useRef)(null),o=Object(c.useRef)(null),r=function(e){"Escape"===e.key&&i(!1)},l=function(e){var t,n;!s.current||s.current.contains(e.target)&&!(null===(t=o.current)||void 0===t?void 0:t.contains(e.target))||((null===(n=o.current)||void 0===n?void 0:n.contains(e.target))||i(!1))};return Object(c.useEffect)((function(){return document.addEventListener("keydown",r,!0),document.addEventListener("click",l,!0),function(){document.removeEventListener("keydown",r,!0),document.removeEventListener("click",l,!0)}})),{ref:s,listRef:o,isComponentVisible:a,setIsComponentVisible:i}},f=n(1),m=function(e){var t=e.isUp,n=e.handleClick;return Object(f.jsx)("span",{onClick:function(){n((function(e){return!e}))},className:"icon",children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-caret-down-fill",viewBox:"0 0 16 16",children:t?Object(f.jsx)("path",{d:"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"}):Object(f.jsx)("path",{d:"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})})};n(55);var O=function(){var e=Object(r.g)(),t=Object(c.useState)(""),n=Object(u.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)({}),o=Object(u.a)(s,2),d=o[0],O=o[1],v=Object(c.useState)([]),p=Object(u.a)(v,2),g=p[0],x=p[1],w=Object(c.useState)(!0),C=Object(u.a)(w,2),N=C[0],k=C[1],y=Object(c.useState)(0),L=Object(u.a)(y,2),S=L[0],_=L[1],E=function(){j.a.get("http://localhost:3001/api/countries/get?count=".concat(10,"&lastID=",S)).then((function(e){var t=e.data,n=t.success,c=t.message,a=t.countries,i=t.hasMore;n?(x((function(e){return[].concat(Object(l.a)(e),Object(l.a)(a))})),_(a[a.length-1].id),k(i)):console.error(c)}))};Object(c.useEffect)((function(){console.log(e);var t=e.location.pathname.split("/"),n=Object(u.a)(t,2),c=(n[0],n[1]);j.a.get("http://localhost:3001/api/countries/getById?id=".concat(c)).then((function(e){var t=e.data,n=t.success,c=t.message,a=t.country;n?O(a):console.error(c)})),E()}),[]);var I=h(!1),F=I.ref,M=I.listRef,B=I.isComponentVisible,D=I.setIsComponentVisible;Object(c.useEffect)((function(){e.push("/".concat(d.id))}),[d,e]);var R=function(e){return function(){O(g.find((function(t){return t.id===e}))),i(""),D(!1)}};return Object(f.jsx)("div",{className:"container mt-5",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12 wrapper",children:Object(f.jsx)("div",{ref:F,className:"formSome ".concat(B?"active":""),children:B?Object(f.jsxs)("div",{className:"form__dropdown",children:[Object(f.jsx)("div",{className:"form__dropdown-label",children:"Select country"}),Object(f.jsx)(m,{handleClick:D,isUp:!0}),Object(f.jsx)("div",{className:"form__dropdown-input",children:Object(f.jsx)("input",{type:"text",className:"form-control",value:a,onChange:function(e){i(e.target.value)},placeholder:"Type the name of country"})}),Object(f.jsx)("ul",{ref:M,className:"list",children:Object(f.jsx)("div",{id:"scrollableDiv",className:"list__wrapper",children:Object(f.jsx)(b.a,{loader:Object(f.jsx)("div",{className:"loading",children:"Loading ..."}),scrollableTarget:"scrollableDiv",hasMore:N,dataLength:g.length,next:E,children:a.length>0?g.filter((function(e){return e.name.toLowerCase().includes(a.toLocaleLowerCase())})).map((function(e){var t=e.id,n=e.name;return Object(f.jsx)("li",{className:"country",onClick:R(t),children:n},t)})):g.map((function(e){var t=e.id,n=e.name;return Object(f.jsx)("li",{className:"country",onClick:R(t),children:n},t)}))})})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{onClick:function(){D(!0)},className:"form__selected",children:null===d||void 0===d?void 0:d.name}),Object(f.jsx)(m,{handleClick:D,isUp:!1})]})})})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};n(61);s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(o.a,{children:Object(f.jsxs)(r.d,{children:[Object(f.jsx)(r.b,{path:"/:number",component:O}),Object(f.jsx)(r.a,{to:"/32"})]})})}),document.getElementById("root")),v()}},[[62,1,2]]]);
//# sourceMappingURL=main.132de101.chunk.js.map